{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  try {\n    const response = await axios.post(\"http://localhost:8000/api/books/login\", {\n      email,\n      password\n    });\n    setMessage(response.data.message);\n\n    // Vérifier que l'ID utilisateur est bien récupéré\n    console.log(\"User ID from login:\", response.data.user.userId);\n    handleLogin(response.data.user.firstName, response.data.user.lastName, response.data.user.userId);\n    navigate(\"/\");\n  } catch (err) {\n    setMessage(\"\");\n    setError(err.response && err.response.data.message ? err.response.data.message : \"Erreur lors de la connexion. Veuillez vérifier vos informations.\");\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","response","axios","post","email","password","setMessage","data","message","console","log","user","userId","handleLogin","firstName","lastName","navigate","err","setError"],"sources":["C:/Users/Lenovo/Desktop/book-club/client/src/components/Login.js"],"sourcesContent":["const handleSubmit = async (e) => {\r\n  e.preventDefault();\r\n\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://localhost:8000/api/books/login\", \r\n      { email, password }\r\n    );\r\n\r\n    setMessage(response.data.message);\r\n\r\n    // Vérifier que l'ID utilisateur est bien récupéré\r\n    console.log(\"User ID from login:\", response.data.user.userId);\r\n\r\n    handleLogin(response.data.user.firstName, response.data.user.lastName, response.data.user.userId);\r\n    navigate(\"/\");\r\n  } catch (err) {\r\n    setMessage(\"\");\r\n    setError(err.response && err.response.data.message\r\n      ? err.response.data.message\r\n      : \"Erreur lors de la connexion. Veuillez vérifier vos informations.\");\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACC,IAAI,CAC/B,uCAAuC,EACvC;MAAEC,KAAK;MAAEC;IAAS,CACpB,CAAC;IAEDC,UAAU,CAACL,QAAQ,CAACM,IAAI,CAACC,OAAO,CAAC;;IAEjC;IACAC,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAET,QAAQ,CAACM,IAAI,CAACI,IAAI,CAACC,MAAM,CAAC;IAE7DC,WAAW,CAACZ,QAAQ,CAACM,IAAI,CAACI,IAAI,CAACG,SAAS,EAAEb,QAAQ,CAACM,IAAI,CAACI,IAAI,CAACI,QAAQ,EAAEd,QAAQ,CAACM,IAAI,CAACI,IAAI,CAACC,MAAM,CAAC;IACjGI,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZX,UAAU,CAAC,EAAE,CAAC;IACdY,QAAQ,CAACD,GAAG,CAAChB,QAAQ,IAAIgB,GAAG,CAAChB,QAAQ,CAACM,IAAI,CAACC,OAAO,GAC9CS,GAAG,CAAChB,QAAQ,CAACM,IAAI,CAACC,OAAO,GACzB,kEAAkE,CAAC;EACzE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}